# alevin-fry-atac

alevin-fry-atac is a suite of tools for the rapid, accurate and memory-frugal processing single-cell and single-nucleus sequencing data. It consumes RAD files generated by piscem, and performs common operations like generating permit lists, and deduplication. The code is written in [Rust](https://www.rust-lang.org) and C++. You will also get access 

## Getting started
While we provide below individually a list of steps to run `alevin-fry-atac` to get the deduplicated bed file containing the mapped fragments, we also provide a Snakefile that does these things for you. A [simpleaf](https://github.com/COMBINE-lab/simpleaf) workflow is under preparation currently, that would make the task even easier.

### Software to install

#### Piscem (dev-atac branch)
```
  git clone --recursive https://github.com/COMBINE-lab/piscem.git -b dev-atac
  cd piscem
  git branch ## this should point to dev-atac
  cargo build --release
  cd piscem-cpp
  mkdir build
  cd build
  cmake ..
  make
```

#### alevin-fry-atac (dev-atac)
```
    git clone https://github.com/COMBINE-lab/alevin-fry.git -b dev-atac
    cd alevin-fry
    cargo build --release
```

#### Snakemake
In case you want to skip running each step individually. The instructions to download `Snakemake` are available on their [website](https://snakemake.readthedocs.io/en/stable/getting_started/installation.html). Personally, I prefer `mamba`. Note you have to install the software above irrespective since you will be required to provide the above path in `config.yml` for snakemake.


### Enumerating each step

#### Building the index
```
  
```
